<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bingsum.mapper.UserMapper">

    <select id="getUserInfo" resultType="com.bingsum.model.User" >
        select * from user where open_id=#{openid}
    </select>

    <!--初始新增 微信获取-->
    <insert id="addUserInfo" parameterType="com.bingsum.model.User">
        insert into user(nick_name, open_id, gender, avatar_url, create_time) values (#{nick_name}, #{open_id}, #{gender}, #{avatar_url}, NOW());
    </insert>

    <update id="setUserInfo" parameterType="com.bingsum.model.User" >
        update user set phone =#{phone},name =#{name},card =#{card}, address = #{address}, emergency_phone = #{emergency_phone}, emergency_name = #{emergency_name},update_time = NOW() where open_id = #{open_id};
    </update>

</mapper>